#include <stdio.h>                                              // เรียกใช้ไลบรารีมาตรฐานสำหรับการรับค่าและแสดงผลข้อมูล

// รับค่าคะแนนจากผู้ใช้
void inputScores(float arr[3][3]) {                             // ฟังก์ชัน inputScores สำหรับรับค่าคะแนนนักเรียน 3 คน (แต่ละคนมี 3 วิชา)
    for (int i = 0; i < 3; i++) {                               // ลูปวนรับคะแนนนักเรียนแต่ละคน (i = 0 ถึง 2)
        printf("Enter scores for Student %d:\n", i + 1);        // แสดงข้อความบอกลำดับนักเรียน
        printf("Math: ");                                        // แสดงข้อความให้กรอกคะแนนวิชาคณิตศาสตร์
        scanf("%f", &arr[i][0]);                                // รับค่าคะแนนคณิตศาสตร์เก็บใน arr[i][0]
        printf("Physics: ");                                     // แสดงข้อความให้กรอกคะแนนวิชาฟิสิกส์
        scanf("%f", &arr[i][1]);                                // รับค่าคะแนนฟิสิกส์เก็บใน arr[i][1]
        printf("Chemistry: ");                                   // แสดงข้อความให้กรอกคะแนนวิชาเคมี
        scanf("%f", &arr[i][2]);                                // รับค่าคะแนนเคมีเก็บใน arr[i][2]
        printf("\n");                                            // ขึ้นบรรทัดใหม่เพื่อความสวยงาม
    }
}

// แสดงตารางคะแนน
void printTable(float arr[3][3]) {                              // ฟังก์ชัน printTable สำหรับแสดงผลตารางคะแนนทั้งหมด
    printf("Score Table:\n");                                   // แสดงหัวข้อ Score Table
    printf("Student   Math    Physics   Chemistry\n");           // แสดงหัวตาราง
    for (int i = 0; i < 3; i++) {                               // ลูปแสดงคะแนนของนักเรียนแต่ละคน
        printf("%d         %.2f   %.2f     %.2f\n",              // แสดงหมายเลขนักเรียนและคะแนนแต่ละวิชา (ทศนิยม 2 ตำแหน่ง)
               i + 1, arr[i][0], arr[i][1], arr[i][2]);
    }
    printf("\n");                                                // ขึ้นบรรทัดใหม่หลังจากแสดงตารางครบ
}

// แสดงค่าเฉลี่ยของแต่ละวิชา
void printAverage(float arr[3][3]) {                            // ฟังก์ชัน printAverage สำหรับคำนวณและแสดงค่าเฉลี่ยของแต่ละวิชา
    float sumMath = 0, sumPhysics = 0, sumChemistry = 0;        // ประกาศตัวแปรเก็บผลรวมของแต่ละวิชา เริ่มต้นที่ 0

    for (int i = 0; i < 3; i++) {                               // ลูปคำนวณผลรวมของคะแนนแต่ละวิชา
        sumMath += arr[i][0];                                   // บวกคะแนนคณิตศาสตร์ของนักเรียนแต่ละคน
        sumPhysics += arr[i][1];                                // บวกคะแนนฟิสิกส์ของนักเรียนแต่ละคน
        sumChemistry += arr[i][2];                              // บวกคะแนนเคมีของนักเรียนแต่ละคน
    }

    printf("Average per subject:\n");                           // แสดงหัวข้อค่าเฉลี่ยของแต่ละวิชา
    printf("Math: %.2f\n", sumMath / 3);                        // แสดงค่าเฉลี่ยของวิชาคณิตศาสตร์
    printf("Physics: %.2f\n", sumPhysics / 3);                  // แสดงค่าเฉลี่ยของวิชาฟิสิกส์
    printf("Chemistry: %.2f\n", sumChemistry / 3);              // แสดงค่าเฉลี่ยของวิชาเคมี
}

// ฟังก์ชันหลัก
int main() {                                                    // ฟังก์ชันหลักของโปรแกรม เป็นจุดเริ่มต้นการทำงาน
    float scores[3][3];                                         // ประกาศตัวแปร scores เป็นอาเรย์ 2 มิติ (3x3) สำหรับเก็บคะแนนทั้งหมด

    inputScores(scores);                                        // เรียกใช้ฟังก์ชัน inputScores เพื่อรับค่าคะแนนนักเรียน
    printTable(scores);                                         // เรียกใช้ฟังก์ชัน printTable เพื่อแสดงตารางคะแนน
    printAverage(scores);                                       // เรียกใช้ฟังก์ชัน printAverage เพื่อแสดงค่าเฉลี่ยแต่ละวิชา

    return 0;                                                   // คืนค่า 0 เพื่อบอกว่าโปรแกรมทำงานสำเร็จ
}
